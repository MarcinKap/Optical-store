<div class="container" xmlns:th="http://www.thymeleaf.org" th:fragment="user_table">
    <div class="row">
        <div class="col-sm">
            <table class="table" style="color: white; background-color: black; opacity: 0.7; border-radius: 10px">
                <tr class="active">
                    <th>
<!--                        <div th:text="${request.getQueryString('glassesType')}">-->
<!--                        <div th:text="${#httpServletRequest.getParameter('glassesType') != null}">-->

<!--                        </div>-->
<!--                        <div th:text="${#httpServletRequest.getQueryString()}">-->

<!--                        </div>-->
<!--                        <div th:text="${#httpServletRequest.getRequestURL().append(#httpServletRequest.getQueryString())}">-->

<!--                        </div>-->
                    </th>

                    <th>
                        <form th:action="${#httpServletRequest.requestURI}">
                            <input type="hidden" name="glassesType" th:if="${#httpServletRequest.getParameter('glassesType') != null}" th:value="${#httpServletRequest.getParameter('glassesType')}">
                            <input type="hidden" name="glassesNumber" th:if="${#httpServletRequest.getParameter('glassesNumber') != null}" th:value="${#httpServletRequest.getParameter('glassesNumber')}">
                            <input type="hidden" name="glassesGender" th:if="${#httpServletRequest.getParameter('glassesGender') != null}" th:value="${#httpServletRequest.getParameter('glassesGender')}">
                            <input type="hidden" name="glassesMarks" th:if="${#httpServletRequest.getParameter('glassesMarks') != null}" th:value="${#httpServletRequest.getParameter('glassesMarks')}">
                            <input type="hidden" name="form" th:if="${#httpServletRequest.getParameter('form') != null}" th:value="${#httpServletRequest.getParameter('form')}">
                            <input type="hidden" name="polarization" th:if="${#httpServletRequest.getParameter('polarization') != null}" th:value="${#httpServletRequest.getParameter('polarization')}">
                            <input type="hidden" name="orderBy" th:value="glassesNumber">
                            <input type="hidden" name="ascOrDesc" th:value="${ascOrDesc}">
                            <input type="submit" value="Numer zamówieniowy">
                        </form>

                        <!--                        <a th:href="@{${#httpServletRequest.getRequestURL()}(orderBy=glassesNumber, ascOrDesc=${ascOrDesc})}" class="white-href-text">-->
<!--                            Numer zamówieniowy-->
<!--                        </a>-->
                    </th>
                    <th>
                        <form th:action="${#httpServletRequest.requestURI}">
                            <input type="hidden" name="glassesType" th:if="${#httpServletRequest.getParameter('glassesType') != null}" th:value="${#httpServletRequest.getParameter('glassesType')}">
                            <input type="hidden" name="glassesNumber" th:if="${#httpServletRequest.getParameter('glassesNumber') != null}" th:value="${#httpServletRequest.getParameter('glassesNumber')}">
                            <input type="hidden" name="glassesGender" th:if="${#httpServletRequest.getParameter('glassesGender') != null}" th:value="${#httpServletRequest.getParameter('glassesGender')}">
                            <input type="hidden" name="glassesMarks" th:if="${#httpServletRequest.getParameter('glassesMarks') != null}" th:value="${#httpServletRequest.getParameter('glassesMarks')}">
                            <input type="hidden" name="form" th:if="${#httpServletRequest.getParameter('form') != null}" th:value="${#httpServletRequest.getParameter('form')}">
                            <input type="hidden" name="polarization" th:if="${#httpServletRequest.getParameter('polarization') != null}" th:value="${#httpServletRequest.getParameter('polarization')}">
                            <input type="hidden" name="orderBy" th:value="glassesType">
                            <input type="hidden" name="ascOrDesc" th:value="${ascOrDesc}">
                            <input type="submit" value="Typ">
                        </form>
<!--                        <a th:href="@{${#httpServletRequest.requestURI}(orderBy=glassesType, ascOrDesc=${ascOrDesc}, searchingByParameter=${searchingByParameter}, searchingByValue=${searchingByValue})}" class="white-href-text">-->
<!--                            Typ-->
<!--                        </a>-->
                    </th>
                    <th>
                        <form th:action="${#httpServletRequest.requestURI}">
                            <input type="hidden" name="glassesType" th:if="${#httpServletRequest.getParameter('glassesType') != null}" th:value="${#httpServletRequest.getParameter('glassesType')}">
                            <input type="hidden" name="glassesNumber" th:if="${#httpServletRequest.getParameter('glassesNumber') != null}" th:value="${#httpServletRequest.getParameter('glassesNumber')}">
                            <input type="hidden" name="glassesGender" th:if="${#httpServletRequest.getParameter('glassesGender') != null}" th:value="${#httpServletRequest.getParameter('glassesGender')}">
                            <input type="hidden" name="glassesMarks" th:if="${#httpServletRequest.getParameter('glassesMarks') != null}" th:value="${#httpServletRequest.getParameter('glassesMarks')}">
                            <input type="hidden" name="form" th:if="${#httpServletRequest.getParameter('form') != null}" th:value="${#httpServletRequest.getParameter('form')}">
                            <input type="hidden" name="polarization" th:if="${#httpServletRequest.getParameter('polarization') != null}" th:value="${#httpServletRequest.getParameter('polarization')}">
                            <input type="hidden" name="orderBy" th:value="glassesMarks">
                            <input type="hidden" name="ascOrDesc" th:value="${ascOrDesc}">
                            <input type="submit" value="Marka">
                        </form>
<!--                        <a th:href="@{${#httpServletRequest.requestURI}(orderBy=glassesMarks, ascOrDesc=${ascOrDesc}, searchingByParameter=${searchingByParameter}, searchingByValue=${searchingByValue})}" class="white-href-text">-->
<!--                            Marka-->
<!--                        </a>-->
                    </th>
                    <th>
                        <form th:action="${#httpServletRequest.requestURI}">
                            <input type="hidden" name="glassesType" th:if="${#httpServletRequest.getParameter('glassesType') != null}" th:value="${#httpServletRequest.getParameter('glassesType')}">
                            <input type="hidden" name="glassesNumber" th:if="${#httpServletRequest.getParameter('glassesNumber') != null}" th:value="${#httpServletRequest.getParameter('glassesNumber')}">
                            <input type="hidden" name="glassesGender" th:if="${#httpServletRequest.getParameter('glassesGender') != null}" th:value="${#httpServletRequest.getParameter('glassesGender')}">
                            <input type="hidden" name="glassesMarks" th:if="${#httpServletRequest.getParameter('glassesMarks') != null}" th:value="${#httpServletRequest.getParameter('glassesMarks')}">
                            <input type="hidden" name="form" th:if="${#httpServletRequest.getParameter('form') != null}" th:value="${#httpServletRequest.getParameter('form')}">
                            <input type="hidden" name="polarization" th:if="${#httpServletRequest.getParameter('polarization') != null}" th:value="${#httpServletRequest.getParameter('polarization')}">
                            <input type="hidden" name="orderBy" th:value="form">
                            <input type="hidden" name="ascOrDesc" th:value="${ascOrDesc}">
                            <input type="submit" value="Krztałt">
                        </form>
<!--                        <a th:href="@{${#httpServletRequest.requestURI}(orderBy=form, ascOrDesc=${ascOrDesc}, searchingByParameter=${searchingByParameter}, searchingByValue=${searchingByValue})}" class="white-href-text">-->
<!--                            Kształt-->
<!--                        </a>-->
                    </th>
                    <th>
                        <form th:action="${#httpServletRequest.requestURI}">
                            <input type="hidden" name="glassesType" th:if="${#httpServletRequest.getParameter('glassesType') != null}" th:value="${#httpServletRequest.getParameter('glassesType')}">
                            <input type="hidden" name="glassesNumber" th:if="${#httpServletRequest.getParameter('glassesNumber') != null}" th:value="${#httpServletRequest.getParameter('glassesNumber')}">
                            <input type="hidden" name="glassesGender" th:if="${#httpServletRequest.getParameter('glassesGender') != null}" th:value="${#httpServletRequest.getParameter('glassesGender')}">
                            <input type="hidden" name="glassesMarks" th:if="${#httpServletRequest.getParameter('glassesMarks') != null}" th:value="${#httpServletRequest.getParameter('glassesMarks')}">
                            <input type="hidden" name="form" th:if="${#httpServletRequest.getParameter('form') != null}" th:value="${#httpServletRequest.getParameter('form')}">
                            <input type="hidden" name="polarization" th:if="${#httpServletRequest.getParameter('polarization') != null}" th:value="${#httpServletRequest.getParameter('polarization')}">
                            <input type="hidden" name="orderBy" th:value="glassesGender">
                            <input type="hidden" name="ascOrDesc" th:value="${ascOrDesc}">
                            <input type="submit" value="Płeć">
                        </form>
<!--                        <a th:href="@{${#httpServletRequest.requestURI}(orderBy=glassesGender, ascOrDesc=${ascOrDesc}, searchingByParameter=${searchingByParameter}, searchingByValue=${searchingByValue})}" class="white-href-text">-->
<!--                            Płeć-->
<!--                        </a>-->
                    </th>
                    <th>
                        <form th:action="${#httpServletRequest.requestURI}">
                            <input type="hidden" name="glassesType" th:if="${#httpServletRequest.getParameter('glassesType') != null}" th:value="${#httpServletRequest.getParameter('glassesType')}">
                            <input type="hidden" name="glassesNumber" th:if="${#httpServletRequest.getParameter('glassesNumber') != null}" th:value="${#httpServletRequest.getParameter('glassesNumber')}">
                            <input type="hidden" name="glassesGender" th:if="${#httpServletRequest.getParameter('glassesGender') != null}" th:value="${#httpServletRequest.getParameter('glassesGender')}">
                            <input type="hidden" name="glassesMarks" th:if="${#httpServletRequest.getParameter('glassesMarks') != null}" th:value="${#httpServletRequest.getParameter('glassesMarks')}">
                            <input type="hidden" name="form" th:if="${#httpServletRequest.getParameter('form') != null}" th:value="${#httpServletRequest.getParameter('form')}">
                            <input type="hidden" name="polarization" th:if="${#httpServletRequest.getParameter('polarization') != null}" th:value="${#httpServletRequest.getParameter('polarization')}">
                            <input type="hidden" name="orderBy" th:value="polarization">
                            <input type="hidden" name="ascOrDesc" th:value="${ascOrDesc}">
                            <input type="submit" value="Polaryzacja">
                        </form>
<!--                        <a th:href="@{${#httpServletRequest.requestURI}(orderBy=polarization, ascOrDesc=${ascOrDesc}, searchingByParameter=${searchingByParameter}, searchingByValue=${searchingByValue})}" class="white-href-text">-->
<!--                            Polaryzacja-->
<!--                        </a>-->
                    </th>
                    <th>
                        <form th:action="${#httpServletRequest.requestURI}">
                            <input type="hidden" name="glassesType" th:if="${#httpServletRequest.getParameter('glassesType') != null}" th:value="${#httpServletRequest.getParameter('glassesType')}">
                            <input type="hidden" name="glassesNumber" th:if="${#httpServletRequest.getParameter('glassesNumber') != null}" th:value="${#httpServletRequest.getParameter('glassesNumber')}">
                            <input type="hidden" name="glassesGender" th:if="${#httpServletRequest.getParameter('glassesGender') != null}" th:value="${#httpServletRequest.getParameter('glassesGender')}">
                            <input type="hidden" name="glassesMarks" th:if="${#httpServletRequest.getParameter('glassesMarks') != null}" th:value="${#httpServletRequest.getParameter('glassesMarks')}">
                            <input type="hidden" name="form" th:if="${#httpServletRequest.getParameter('form') != null}" th:value="${#httpServletRequest.getParameter('form')}">
                            <input type="hidden" name="polarization" th:if="${#httpServletRequest.getParameter('polarization') != null}" th:value="${#httpServletRequest.getParameter('polarization')}">
                            <input type="hidden" name="orderBy" th:value="widthOfTheLens">
                            <input type="hidden" name="ascOrDesc" th:value="${ascOrDesc}">
                            <input type="submit" value="Szerokość">
                        </form>
<!--                        <a th:href="@{${#httpServletRequest.requestURI}(orderBy=widthOfTheLens, ascOrDesc=${ascOrDesc}, searchingByParameter=${searchingByParameter}, searchingByValue=${searchingByValue})}" class="white-href-text">-->
<!--                            Szerokość-->
<!--                        </a>-->
                    </th>
                    <th>
                        <form th:action="${#httpServletRequest.requestURI}">
                            <input type="hidden" name="glassesType" th:if="${#httpServletRequest.getParameter('glassesType') != null}" th:value="${#httpServletRequest.getParameter('glassesType')}">
                            <input type="hidden" name="glassesNumber" th:if="${#httpServletRequest.getParameter('glassesNumber') != null}" th:value="${#httpServletRequest.getParameter('glassesNumber')}">
                            <input type="hidden" name="glassesGender" th:if="${#httpServletRequest.getParameter('glassesGender') != null}" th:value="${#httpServletRequest.getParameter('glassesGender')}">
                            <input type="hidden" name="glassesMarks" th:if="${#httpServletRequest.getParameter('glassesMarks') != null}" th:value="${#httpServletRequest.getParameter('glassesMarks')}">
                            <input type="hidden" name="form" th:if="${#httpServletRequest.getParameter('form') != null}" th:value="${#httpServletRequest.getParameter('form')}">
                            <input type="hidden" name="polarization" th:if="${#httpServletRequest.getParameter('polarization') != null}" th:value="${#httpServletRequest.getParameter('polarization')}">
                            <input type="hidden" name="orderBy" th:value="price">
                            <input type="hidden" name="ascOrDesc" th:value="${ascOrDesc}">
                            <input type="submit" value="Cena">
                        </form>
<!--                        <a th:href="@{${#httpServletRequest.requestURI}(orderBy=price, ascOrDesc=${ascOrDesc}, searchingByParameter=${searchingByParameter}, searchingByValue=${searchingByValue})}" class="white-href-text">-->
<!--                            Cena-->
<!--                        </a>-->
                    </th>
                    <th th:if="${#request.isUserInRole('ADMIN')}">Edytuj</th>
                    <th th:if="${#request.isUserInRole('ADMIN')}">Usuń</th>
                </tr>
                <tr th:each="p : ${glasses}">
                    <td><img th:src="@{${p.getGlassesImage()}}" style="width: 100px"></td>
                    <td th:text="${#numbers.formatInteger(p.getGlassesNumber(), 1)}"></td>
                    <td th:text="${p.getGlassesType()}"></td>
                    <td th:text="${p.getGlassesMarks()}"></td>
                    <td th:text="${p.getForm()}"></td>
                    <td th:text="${p.getGlassesGender()}"></td>
                    <td th:text="${p.getPolarization()} ? 'Tak' : 'Nie'"></td>
                    <td th:text="${#numbers.formatInteger(p.getWidthOfTheLens(), 1)} + mm"></td>
                    <td th:text="${#numbers.formatDecimal(p.getPrice(), 1,2, 'POINT')} + zl">
                    <td th:if="${#request.isUserInRole('ADMIN')}">

                        <form action="/update-glasses" method="get">
                            <input type="hidden" th:value="${p.getId()}" name="id">
                            <button type="submit" class="btn btn-success btn-sm"><i class="fa fa-pencil-square-o" aria-hidden="true"></i></button>
                        </form>
                    </td>
                    <td th:if="${#request.isUserInRole('ADMIN')}">
                        <form action="/delete" method="get">
                            <input type="hidden" th:value="${p.getId()}" name="id">
                            <button type="submit" class="btn btn-danger btn-sm"><i class="fa fa-trash" aria-hidden="true"></i></button>
                        </form>
                    </td>
                </tr>
            </table>
        </div>
    </div>
</div>
